SELECT
    KEI.*
    ,ISNULL(TOR.TORIHIKISAKI_NAME_RYAKU,N'') AS TORIHIKISAKI_NAME_RYAKU
    ,ISNULL(GYO.GYOUSHA_NAME_RYAKU,N'') AS GYOUSHA_NAME_RYAKU
    ,ISNULL(GEN.GENBA_NAME_RYAKU,N'') AS GENBA_NAME_RYAKU
    ,ISNULL(HIN.HINMEI_NAME_RYAKU,N'') AS HINMEI_NAME_RYAKU
    ,ISNULL(UNI.UNIT_NAME_RYAKU,N'') AS UNIT_NAME_RYAKU
    ,ISNULL(SHURUI.SHURUI_CD,'') AS SHURUI_CD
    ,ISNULL(SHURUI.SHURUI_NAME_RYAKU,N'') AS SHURUI_NAME_RYAKU
FROM
    dbo.M_HINMEI HIN
    LEFT JOIN dbo.M_SHURUI SHURUI ON HIN.SHURUI_CD = SHURUI.SHURUI_CD
    LEFT JOIN dbo.M_KEIRYOU_CHOUSEI KEI ON HIN.HINMEI_CD = KEI.HINMEI_CD
    LEFT JOIN dbo.M_TORIHIKISAKI TOR ON KEI.TORIHIKISAKI_CD = TOR.TORIHIKISAKI_CD
    LEFT JOIN dbo.M_GYOUSHA GYO ON KEI.GYOUSHA_CD = GYO.GYOUSHA_CD
    LEFT JOIN dbo.M_GENBA GEN ON KEI.GYOUSHA_CD = GEN.GYOUSHA_CD AND KEI.GENBA_CD = GEN.GENBA_CD
    LEFT JOIN dbo.M_UNIT UNI ON KEI.UNIT_CD = UNI.UNIT_CD
/*BEGIN*/WHERE
 /*IF data.HINMEI_NAME_RYAKU != null*/HIN.HINMEI_NAME_RYAKU LIKE '%' +  /*data.HINMEI_NAME_RYAKU*/ + '%'/*END*/
 /*IF !deletechuFlg*/AND HIN.DELETE_FLG = 0/*END*/
 /*IF tekiyounaiFlg || deletechuFlg || tekiyougaiFlg*/AND (1 = 0/*END*/
 /*IF tekiyounaiFlg*/OR (((HIN.TEKIYOU_BEGIN <= CONVERT(DATETIME, CONVERT(nvarchar, GETDATE(), 111), 120) and CONVERT(DATETIME, CONVERT(nvarchar, GETDATE(), 111), 120) <= HIN.TEKIYOU_END) or (HIN.TEKIYOU_BEGIN <= CONVERT(DATETIME, CONVERT(nvarchar, GETDATE(), 111), 120) and HIN.TEKIYOU_END IS NULL) or (HIN.TEKIYOU_BEGIN IS NULL and CONVERT(DATETIME, CONVERT(nvarchar, GETDATE(), 111), 120) <= HIN.TEKIYOU_END) or (HIN.TEKIYOU_BEGIN IS NULL and HIN.TEKIYOU_END IS NULL)) and HIN.DELETE_FLG = 0)/*END*/
 /*IF deletechuFlg*/OR HIN.DELETE_FLG = /*deletechuFlg*/0/*END*/
 /*IF tekiyougaiFlg*/OR ((HIN.TEKIYOU_BEGIN > CONVERT(DATETIME, CONVERT(nvarchar, GETDATE(), 111), 120) or CONVERT(DATETIME, CONVERT(nvarchar, GETDATE(), 111), 120) > HIN.TEKIYOU_END) and HIN.DELETE_FLG = 0)/*END*/
 /*IF tekiyounaiFlg || deletechuFlg || tekiyougaiFlg*/ )/*END*/
/*END*/
ORDER BY HIN.HINMEI_CD
